<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/header :: common-header" />
<body>
	<div th:replace="common/navbar :: common-navbar" />

	<div class="container">
		<div class="row" id="alert-error" th:if="${param.error}">
			<div class="col s12 m6 offset-m3">
				<div class="card red darken-1">
					<div class="row">
						<div class="col s12 m10">
							<div class="card-content white-text">
								<p th:text="#{login.error.message}" />
								<p th:if="${session[SPRING_SECURITY_LAST_EXCEPTION].message}" th:text="${session[SPRING_SECURITY_LAST_EXCEPTION].message}">Invalid credentials</p>
							</div>
						</div>
						<div class="col s12 m2">
							<i class="material-icons icon_style" id="alert-error-close">close</i>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row" id="alert-logout" th:if="${param.logout}">
			<div class="col s12 m6 offset-m3">
				<div class="card green">
					<div class="row">
						<div class="col s12 m10">
							<div class="card-content white-text">
								<p th:text="#{login.logout.success}" />
							</div>
						</div>
						<div class="col s12 m2">
							<i class="material-icons icon_style" id="alert-logout-close">close</i>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- LoginForm -->
		<div class="row">
			<div class="col s12 m6 offset-m3">
				<div class="card blue-grey darken-4">
					<div class="card-content white-text">
						<span class="card-title" th:text="#{login.h1.title}"></span>
						<p th:text="#{login.p.lead}"></p>
					</div>
					<form id="loginForm" th:action="@{/login}" method="POST">
						<div class="input-field col s12 m6">
							<input id="username" name="username" type="text" class="validate" /> 
							<label for="username" th:text="#{login.form.username}"></label>
						</div>
						<div class="input-field col s12 m6">
							<input id="password" name="password" type="password" class="validate" /> 
							<label for="password" th:text="#{login.form.password}"></label>
						</div>
						<div class="row">
							<div class="col s12 m6">
								<div class="login-submit">
									<button type="submit" th:utext="#{navbar.login.text}" class="btn waves-effect waves-light"></button>
									<a th:href="@{/forgotmypassword}" th:text="#{login.forgot.password.text}"></a>
								</div>
							</div>
						</div>
					</form>

				</div>
			</div>
		</div>
	</div>

	<div th:replace="common/header :: before-body-scripts" />
</body>
</html>
